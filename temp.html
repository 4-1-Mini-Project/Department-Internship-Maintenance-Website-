document.addEventListener('DOMContentLoaded', (e) => {
    e.preventDefault();
    const dataTable = document.getElementById('data-table');
    const dataList = document.getElementById('internship-details-list');
    const loadData = document.getElementById('loadData');
    console.log("idk")
loadData.addEventListener('click', (e) => {
    e.preventDefault();
    const email = currentUserEmail;
  db.collection("internships").where("email", "==", email)
        .get()
        .then((querySnapshot) => {
            dataTable.innerHTML = "<thead><tr><th>Student Name</th><th>Roll No</th><th>Year</th><th>Branch</th><th>Company Name</th><th>Role</th><th>Stipend</th><th>Duration</th><th>Location</th></tr></thead>";
            //dataList.innerHTML = ""; // Clear the list
            console.log("mm")
            querySnapshot.forEach((doc) => {
                const data = doc.data();
              console.log(doc.id, " => ", doc.data());
              const name = data.name;
              const roll = data.rollNo;
              const year = data.year;
              const branch = data.branch;
              const company = data.company;
              const stipend = data.stipend;
              const duration = data.duration;
              const location = data.location;

              // Add data to the table
              const newRow = document.createElement('tr');
              newRow.innerHTML = `
                <td>${name}</td>
                <td>${roll}</td>
                <td>${year}</td>
                <td>${branch}</td>
                <td>${company}</td>
                <td>${stipend}</td>
                <td>${duration}</td>
                <td>${location}</td>
              `;
              dataList.appendChild(newRow);
              console.log(dataList)
          });
        }, (error) => {
            console.error("Error fetching data:", error);
      });
}

);
});
